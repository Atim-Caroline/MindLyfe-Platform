import { Repository } from 'typeorm';
import { ChatMessage } from './entities/chat-message.entity';
import { ChatRoom } from './entities/chat-room.entity';
import { CreateMessageDto } from './dto/create-message.dto';
import { CreateRoomDto } from './dto/create-room.dto';
import { JwtUser } from '../auth/interfaces/user.interface';
import { AuthClientService } from '../shared/auth-client/auth-client.service';
import { HttpService } from '@nestjs/axios';
import { ConfigService } from '@nestjs/config';
import { CommunityClientService } from '../community/community-client.service';
import { ChatNotificationService } from '../common/services/notification.service';
export declare class ChatService {
    private readonly messageRepository;
    private readonly roomRepository;
    private readonly authClient;
    private readonly httpService;
    private readonly configService;
    private readonly communityClient;
    private readonly notificationService;
    private readonly communityServiceUrl;
    private readonly teletherapyServiceUrl;
    constructor(messageRepository: Repository<ChatMessage>, roomRepository: Repository<ChatRoom>, authClient: AuthClientService, httpService: HttpService, configService: ConfigService, communityClient: CommunityClientService, notificationService: ChatNotificationService);
    createRoom(createRoomDto: CreateRoomDto, user: JwtUser): Promise<ChatRoom>;
    private canUsersChat;
    private checkTherapistClientRelationship;
    getRooms(user: JwtUser): Promise<any[]>;
    getRoomById(roomId: string, user: JwtUser): Promise<any>;
    createMessage(createMessageDto: CreateMessageDto, user: JwtUser): Promise<any>;
    getMessages(roomId: string, user: JwtUser, limit?: number, offset?: number): Promise<any[]>;
    markMessagesAsRead(roomId: string, user: JwtUser): Promise<void>;
    moderateMessage(messageId: string, action: string, user: JwtUser): Promise<ChatMessage>;
    getChatEligibleUsers(user: JwtUser): Promise<any[]>;
    updateRoomIdentitySettings(roomId: string, settings: {
        allowRealNames?: boolean;
        showAnonymousNames?: boolean;
    }, user: JwtUser): Promise<void>;
    private getRoomDisplayName;
    private getMessageSenderDisplayName;
    private checkRateLimiting;
}
